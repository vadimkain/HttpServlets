<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<h1>HTTP. Servlets. 37. Attributes</h1>
<p>
    Сессии в основном используются для того, чтобы хранить там какие-то значения, который ассоциируются с множеством
    request'ов. Для того чтобы хранить значения в сессиях мы должны использовать такие методы как
    <code><b>.setAttribute</b>(String s, Object o)</code>, где ключом для атрибута является строка, а значением любой
    объект. Т.е. так как сессия хранится на стороне сервера, то, следовательно, это обычный Java объект, в котором
    есть другой ассоциативный массив. Это и являются аттрибуты. Поэтому, мы можем хранить там целого юзера. И каждый
    раз, когда приходит запрос, мы можем понять, к какому юзеру в базе данных относится та или иная сессия.
</p>
<p>Создадим в <code>dto</code> класс <code>UserDto.java</code> и продолжим работу в <code>SessionServlet.java</code>.
</p>
<br>
<p>
    Мощь атрибутов не только в том, что он есть у сессий, он есть и у request'ов, и даже у сервлет контекста. Поэтому
    можем использовать его в трёх местах. Т.е.
</p>
<img src="commit-37-1.png" width="60%"/>
<ul>
    <li>
        Т.к. <code>ServletContext</code> он один единственный на всё приложение, это как глобальный объект, к которому
        можем достучаться и у него тоже есть такие же методы как у сессий для работы с атрибутами. По-другому, у него
        есть тоже ассоциативный массив.
        <br>
        Для <code>ServletContext</code> атрибуты не так часто используются, но если установим, то они будут доступны для
        всех сессий и запросов, потому что он один единственный глобальный объект. Его можно использовать как хранилище
        констант для всего приложения.
    </li>
    <li>
        У <code>HttpSession</code> тоже есть атрибуты, поэтому у каждого объекта <code>HttpSession</code> есть
        ассоциативный массив этих атрибутов.
        <br>
        В атрибуты сессий можем положить к примеру пользователя и использовать эти данные для того, чтобы последующие
        запросы ассоциировать именно с этим пользователем.
    </li>
    <li>
        Более того, есть и у <code>HttpServletRequest</code>'ов свои ассоциативные массивы этих атрибутов. Логично
        предположить, что у каждого этого объекта свое поле, следовательно, свои атрибуты.
        <br>
        В случае с <code>HttpServletRequest</code> не совсем понятно зачем хранить атрибуты, если у request живёт
        только один запрос. Но на самом деле нужно использовать атрибуты. Например, для перенаправления запросов на
        другие сервлеты.
    </li>
</ul>
</body>
</html>